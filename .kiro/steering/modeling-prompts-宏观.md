# 建模任务提示词 - 方法论版

> 这是一套方法论层面的"解题心法"，适用于任何数据分析类建模题目。
> 核心理念：建模是"讲故事"，不是"套模型"。

---
【建模决策流程】

面对新建模任务时，按以下流程决策：

阶段1：问题定义
├── 明确预测目标（回归/分类/时序）
├── 确定评估指标（MAE/RMSE/Coverage）
├── 识别约束条件（可解释性/计算资源/时效性）
└── 输出：问题定义文档

阶段2：数据准备
├── 核心数据收集
├── 外部数据识别（使用"数据需求分析提示词"）
├── 数据质量评估（缺失/异常/分布）
└── 输出：数据字典 + 质量报告

阶段3：特征工程
├── 基础特征构建（使用"特征工程设计提示词"）
├── 特征选择（相关性/重要性/共线性）
├── 特征验证（无数据泄露）
└── 输出：特征定义表 + 重要性排序

阶段4：模型选择
├── 基线模型建立（简单模型）
├── 候选模型评估（使用"可解释模型选择提示词"）
├── 模型可解释性增强
└── 输出：模型选择报告 + 解释方案

阶段5：不确定性估计
├── 方法选择（使用"不确定性估计建模提示词"）
├── 区间生成
├── 覆盖率验证
└── 输出：预测区间 + 覆盖率报告

阶段6：评估与报告
├── 多指标评估（使用"误差指标体系设计提示词"）
├── 分层分析（按类别/规模）
├── 结果可视化
└── 输出：评估报告 + 可视化图表
## 提示词1：问题拆解

```
【问题拆解提示词】

面对建模任务：{任务描述}

请按以下框架分析：

一、三问定位
1. 预测什么？
   - 目标变量的本质（连续/离散/序列）
   - 预测的时间范围和空间范围
   - 成功的定义是什么

2. 用什么预测？
   - 可用的信息来源
   - 信息与目标的因果/相关关系
   - 哪些信息是预测时已知的

3. 预测给谁看？
   - 受众的技术水平
   - 决策场景是什么
   - 可解释性要求多高

二、因果链构建
绘制：原因层 → 机制层 → 结果层
- 哪些原因可观测？
- 哪些机制可量化？
- 哪些假设是隐含的？

三、约束识别
- 数据约束：什么数据可获得？
- 方法约束：什么方法可接受？
- 资源约束：时间/计算/人力限制？

输出：问题定义文档（1页）
```

---

## 提示词2：数据价值评估

```
【数据价值评估提示词】

对于预测任务：{任务描述}
现有数据：{数据列表}

请评估数据价值：

一、数据价值金字塔定位
将每个数据源放入金字塔：
- 独特数据（竞争优势）
- 增强数据（提升精度）
- 核心数据（基本要求）
- 公开数据（人人都有）

二、信息增量分析
对每个潜在数据源：
| 数据 | 与目标的关系假设 | 信息增量 | 获取成本 | 优先级 |
|------|-----------------|---------|---------|--------|

三、数据质量风险
- 缺失模式：随机缺失还是系统缺失？
- 测量误差：数据来源可靠吗？
- 时效性：数据更新频率够吗？
- 覆盖度：是否覆盖所有预测实体？

四、数据关联设计
- 主表是什么？
- 如何关联外部数据？
- 关联后会产生什么问题（缺失、重复）？

输出：数据获取优先级列表 + 风险清单
```

---

## 提示词3：特征设计思维

```
【特征设计提示词】

预测目标：{目标}
可用数据：{数据字段}

请按思维模式设计特征：

一、从目标出发逆向思考
目标 → 影响因素 → 可观测代理 → 特征

示例链条：
奖牌数 → 运动员实力 → 历史成绩 → lag_medals

二、四类特征思维

1. 历史记忆型（过去预示未来）
   - 需要什么历史信息？
   - 多远的历史还有预测力？
   - 如何处理历史缺失？

2. 趋势动量型（变化的方向和速度）
   - 趋势是上升还是下降？
   - 趋势会持续还是反转？
   - 如何捕捉加速/减速？

3. 相对位置型（与参照物比较）
   - 参照物是谁？（均值/中位数/同类）
   - 相对位置稳定吗？
   - 排名变化有意义吗？

4. 交互效应型（条件改变关系）
   - 哪些因素会调节其他因素的效果？
   - 交互有业务含义吗？
   - 如何避免过拟合？

三、特征质量检验
对每个特征回答：
□ 能用一句话解释含义吗？
□ 预测时这个值是已知的吗？
□ 缺失时如何处理？
□ 与目标是线性还是非线性关系？

输出：特征定义表（含计算逻辑和业务含义）
```

---

## 提示词4：模型选择决策

```
【模型选择提示词】

数据特点：{样本量、特征数、数据结构}
可解释性要求：{高/中/低}
精度要求：{基准是什么}

请按以下框架选择模型：

一、模型即假设
列出候选模型及其隐含假设：
| 模型 | 核心假设 | 假设在本数据中成立吗？ |
|------|---------|---------------------|

二、可解释性决策
回答：
- 需要解释"为什么这样预测"吗？
- 需要解释"哪些因素重要"吗？
- 需要解释"改变什么能改变结果"吗？

根据回答选择：
- 全部需要 → 线性模型/GAM/决策树
- 部分需要 → 树模型 + SHAP
- 不需要 → 任意模型

三、复杂度-精度权衡
- 简单模型的精度是多少？（基线）
- 复杂模型能提升多少？
- 提升是否值得牺牲可解释性？

原则：精度差距<5%时，选择更简单的模型

四、集成策略
如果使用多模型：
- 每个模型的角色是什么？
- 如何组合？（平均/加权/堆叠）
- 组合权重如何解释？

输出：模型选择报告（含选择理由）
```

---

## 提示词5：不确定性建模

```
【不确定性建模提示词】

预测任务：{任务描述}
置信水平要求：{如95%}

请设计不确定性估计方案：

一、不确定性来源识别
1. 模型不确定性
   - 来源：模型选择、参数估计
   - 能减少吗？如何减少？

2. 数据不确定性
   - 来源：目标本身的随机性
   - 能估计吗？如何估计？

3. 输入不确定性
   - 来源：特征的测量误差
   - 会传播吗？如何量化？

二、方法选择（基于认识论）
回答：你相信什么？

- "我相信模型是对的" → 残差法
- "我不确定哪个模型对" → 集成方差法
- "我只相信数据" → Bootstrap
- "我有先验知识" → 贝叶斯方法
- "我只要覆盖保证" → 共形预测

三、区间校准
- 如何验证区间质量？
- 覆盖率目标是多少？
- 区间过宽/过窄如何调整？

四、高不确定性处理
- 如何识别高不确定性预测？
- 如何向用户传达？
- 是否需要人工审核？

输出：不确定性估计方案 + 校准计划
```

---

## 提示词6：评估指标设计

```
【评估指标设计提示词】

预测任务：{任务描述}
受众：{技术/非技术}

请设计评估指标体系：

一、指标选择（每个指标回答一个问题）

| 问题 | 指标 | 公式 | 解释方式 |
|------|------|------|---------|
| 平均错多少？ | MAE | mean(\|y-ŷ\|) | "平均偏差X单位" |
| 大错误严重吗？ | RMSE | √mean((y-ŷ)²) | "大误差被惩罚" |
| 相对误差如何？ | MAPE | mean(\|y-ŷ\|/y) | "平均偏差X%" |
| 区间可靠吗？ | Coverage | 覆盖率 | "X%落在区间内" |
| 解释力如何？ | R² | 1-SS_res/SS_tot | "解释X%变异" |

二、指标组合策略

场景 → 主指标 + 辅助指标
- 模型开发：RMSE（优化）+ MAE（监控）
- 模型评估：MAE + Coverage + 分层MAPE
- 结果报告：MAE + 预测区间

三、为什么不合并？
- 合并 = 信息压缩 = 诊断能力丧失
- 不同指标回答不同问题
- 合并权重无客观标准

四、分层分析设计
按什么维度分层？
- 实体规模（大/中/小）
- 时间段（近期/远期）
- 实体类型（不同类别）

输出：指标体系表 + 分层分析计划
```

---

## 提示词7：验证策略设计

```
【验证策略设计提示词】

预测任务：{任务描述}
数据时间范围：{起止时间}

请设计验证策略：

一、验证目的
验证不是"证明模型好"
而是"发现模型在哪里会失败"

二、验证维度

1. 时间维度
   - 如何划分训练/验证/测试？
   - 是否需要滚动验证？
   - 不同时期表现一致吗？

2. 实体维度
   - 按什么分组？
   - 哪类实体预测更准？
   - 哪类实体需要特别关注？

3. 极端情况
   - 极大值/极小值表现如何？
   - 突变/异常如何处理？
   - 模型会在哪里崩溃？

4. 假设检验
   - 模型假设成立吗？
   - 残差分布正常吗？
   - 有遗漏的重要因素吗？

三、验证报告要点
- 不只报告平均性能
- 展示性能的分布和变异
- 明确指出局限性
- 给出适用范围建议

输出：验证计划 + 预期风险清单
```

---

## 提示词8：结果呈现框架

```
【结果呈现提示词】

预测结果：{结果概述}
受众：{决策者/技术评审/公众}

请按故事框架组织呈现：

一、故事结构

第一幕：问题（为什么）
- 背景和动机（1-2句）
- 预测目标（明确定义）
- 成功标准（可量化）

第二幕：数据（知道什么）
- 数据来源（可信度）
- 关键发现（洞察）
- 局限性（诚实声明）

第三幕：方法（怎么做）
- 方法选择理由（不是罗列）
- 关键假设（明确声明）
- 技术细节（附录）

第四幕：结果（发现什么）
- 主要预测（突出重点）
- 不确定性（区间/置信度）
- 关键因素（可解释）

第五幕：讨论（意味什么）
- 结果解读（业务语言）
- 局限和风险（诚实）
- 建议（可行动）

二、可视化原则
每张图回答一个问题：
- 趋势图 → "如何变化？"
- 对比图 → "谁更好/差？"
- 分布图 → "集中还是分散？"
- 误差带 → "多不确定？"

三、关键信息检查
□ 主要结论在前30秒能说清吗？
□ 不确定性有量化吗？
□ 局限性有声明吗？
□ 建议可行动吗？

输出：报告大纲 + 关键可视化清单
```

---

## 快速决策流程图

```
┌─────────────────────────────────────────────────────────┐
│                    建模决策流程                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  1. 问题拆解 ──→ 三问定位 + 因果链                      │
│       ↓                                                 │
│  2. 数据评估 ──→ 价值金字塔 + 质量风险                  │
│       ↓                                                 │
│  3. 特征设计 ──→ 四类思维 + 质量检验                    │
│       ↓                                                 │
│  4. 模型选择 ──→ 假设匹配 + 可解释优先                  │
│       ↓                                                 │
│  5. 不确定性 ──→ 来源分解 + 方法匹配                    │
│       ↓                                                 │
│  6. 评估验证 ──→ 指标体系 + 失败模式                    │
│       ↓                                                 │
│  7. 结果呈现 ──→ 故事框架 + 可视化                      │
│                                                         │
└─────────────────────────────────────────────────────────┘

核心原则：
• 建模是讲故事，不是套模型
• 可解释性是专业性的体现
• 承认不确定性是诚实的表现
• 验证是发现问题，不是证明正确
• 简单模型优先，复杂需要理由
```
